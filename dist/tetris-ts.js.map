{"version":3,"sources":["webpack://Tetris/./src/lib/styles.scss","webpack://Tetris/./node_modules/css-loader/dist/runtime/api.js","webpack://Tetris/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://Tetris/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://Tetris/./src/lib/styles.scss?c3c7","webpack://Tetris/./src/config.ts","webpack://Tetris/./src/index.ts","webpack://Tetris/./src/lib/EventBus/index.ts","webpack://Tetris/./src/lib/GameEngine/index.ts","webpack://Tetris/./src/lib/GamePiece/BlockType.ts","webpack://Tetris/./src/lib/GamePiece/GamePiece.ts","webpack://Tetris/./src/lib/GamePiece/LInvType.ts","webpack://Tetris/./src/lib/GamePiece/LType.ts","webpack://Tetris/./src/lib/GamePiece/LineType.ts","webpack://Tetris/./src/lib/GamePiece/TType.ts","webpack://Tetris/./src/lib/GamePiece/ZInvType.ts","webpack://Tetris/./src/lib/GamePiece/ZType.ts","webpack://Tetris/./src/lib/GamePiece/index.ts","webpack://Tetris/./src/lib/GameState.ts","webpack://Tetris/./src/lib/UIEngine/Render.ts","webpack://Tetris/./src/lib/UIEngine/index.ts","webpack://Tetris/webpack/bootstrap","webpack://Tetris/webpack/runtime/compat get default export","webpack://Tetris/webpack/runtime/define property getters","webpack://Tetris/webpack/runtime/hasOwnProperty shorthand","webpack://Tetris/webpack/runtime/make namespace object","webpack://Tetris/webpack/startup"],"names":[],"mappings":"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,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,iDAAiD,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa;;AAEve,+BAA+B,oCAAoC;;AAEnE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,E;;;;;;;;;;AC/Ba;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AA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","file":"tetris-ts.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#tetris {\\n  color: #FFFFFF; }\\n  #tetris .container {\\n    display: flex;\\n    flex: 1;\\n    height: 100%;\\n    background-color: black;\\n    font-family: \\\"Lucida Console\\\", Monaco, monospace; }\\n  #tetris .main-panel {\\n    width: 100%; }\\n  #tetris .controls {\\n    padding: 15px; }\\n  #tetris .control-table {\\n    width: 100%;\\n    font-size: 0.75em;\\n    border: 1px solid blue;\\n    padding: 5px; }\\n    #tetris .control-table td {\\n      text-align: center; }\\n  #tetris .label {\\n    font-weight: bold;\\n    font-size: 0.85em;\\n    padding: 5px 0px;\\n    text-align: center;\\n    text-decoration: underline; }\\n  #tetris .button {\\n    display: inline-block;\\n    background-color: black;\\n    border: 1px solid blue;\\n    padding: 5px;\\n    margin: 5px;\\n    cursor: pointer; }\\n  #tetris .button:hover {\\n    background-color: blue; }\\n  #tetris .text-center {\\n    text-align: center; }\\n  #tetris .game-panel {\\n    display: flex;\\n    flex: 1;\\n    background-color: black; }\\n  #tetris .game-board {\\n    flex: 1;\\n    align-self: flex-end;\\n    border: 1px solid rgba(255, 255, 255, 0.1);\\n    margin: 15px 0px 15px 15px; }\\n  #tetris .game-row {\\n    display: flex;\\n    width: 100%; }\\n  #tetris .game-space {\\n    flex: 1;\\n    border: 1px dashed rgba(255, 255, 255, 0.1); }\\n  #tetris .game-piece {\\n    border-width: 1px;\\n    border-style: solid; }\\n  #tetris .stats-panel {\\n    text-align: center; }\\n  #tetris .stats-label {\\n    margin: 5px 15px;\\n    font-size: 0.75em;\\n    text-decoration: underline; }\\n  #tetris .stats-value {\\n    margin: 5px 15px;\\n    font-size: 0.75em;\\n    margin-bottom: 5px; }\\n  #tetris .next-piece-container {\\n    margin: 0px 5px;\\n    margin-top: 15px;\\n    border: 1px solid blue;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center; }\\n  #tetris .next-piece-cell {\\n    display: inline-block;\\n    border: 1px solid black; }\\n  #tetris .paused {\\n    opacity: 0.5; }\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/lib/styles.scss\"],\"names\":[],\"mappings\":\"AAKA;EACI,cAAc,EAAA;EADlB;IAIQ,aAAa;IACb,OAAO;IACP,YAAY;IACZ,uBAAuB;IACvB,gDAAgD,EAAA;EARxD;IAYQ,WAAW,EAAA;EAZnB;IAgBQ,aAAa,EAAA;EAhBrB;IAoBQ,WAAW;IACX,iBAAiB;IACjB,sBAAsB;IACtB,YAAY,EAAA;IAvBpB;MA0BY,kBAAkB,EAAA;EA1B9B;IA+BQ,iBAAiB;IACjB,iBAAiB;IACjB,gBAAgB;IAChB,kBAAkB;IAClB,0BAA0B,EAAA;EAnClC;IAuCQ,qBAAqB;IACrB,uBAAuB;IACvB,sBAAsB;IACtB,YAAY;IACZ,WAAW;IACX,eAAe,EAAA;EA5CvB;IAgDQ,sBAAsB,EAAA;EAhD9B;IAoDQ,kBAAkB,EAAA;EApD1B;IAwDQ,aAAa;IACb,OAAO;IACP,uBAAuB,EAAA;EA1D/B;IA8DQ,OAAO;IACP,oBAAoB;IACpB,0CAA0C;IAC1C,0BAA0B,EAAA;EAjElC;IAqEQ,aAAa;IACb,WAAW,EAAA;EAtEnB;IA0EQ,OAAO;IACP,2CAA2C,EAAA;EA3EnD;IA+EQ,iBAAiB;IACjB,mBAAmB,EAAA;EAhF3B;IAoFQ,kBAAkB,EAAA;EApF1B;IAwFQ,gBAAgB;IAChB,iBAAiB;IACjB,0BAA0B,EAAA;EA1FlC;IA8FQ,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB,EAAA;EAhG1B;IAoGQ,eAAe;IACf,gBAAgB;IAChB,sBAAsB;IACtB,aAAa;IACb,mBAAmB;IACnB,uBAAuB,EAAA;EAzG/B;IA6GQ,qBAAqB;IACrB,uBAAuB,EAAA;EA9G/B;IAkHQ,YAAY,EAAA\",\"sourcesContent\":[\"// styles.css\\n//\\n// To prevent leaking styles out of the lib, we scope\\n// to the ID of our element.\\n\\n#tetris {\\n    color: #FFFFFF;\\n\\n    .container {\\n        display: flex;\\n        flex: 1;\\n        height: 100%;\\n        background-color: black;\\n        font-family: \\\"Lucida Console\\\", Monaco, monospace;\\n    }\\n\\n    .main-panel {\\n        width: 100%;\\n    }\\n\\n    .controls {\\n        padding: 15px;\\n    }\\n\\n    .control-table {\\n        width: 100%;\\n        font-size: 0.75em;\\n        border: 1px solid blue;\\n        padding: 5px;\\n\\n        td {\\n            text-align: center;\\n        }\\n    }\\n\\n    .label {\\n        font-weight: bold;\\n        font-size: 0.85em;\\n        padding: 5px 0px;\\n        text-align: center;\\n        text-decoration: underline;\\n    }\\n\\n    .button {\\n        display: inline-block;\\n        background-color: black;\\n        border: 1px solid blue;\\n        padding: 5px;\\n        margin: 5px;\\n        cursor: pointer;\\n    }\\n\\n    .button:hover {\\n        background-color: blue;\\n    }\\n\\n    .text-center {\\n        text-align: center;\\n    }\\n\\n    .game-panel {\\n        display: flex;\\n        flex: 1;\\n        background-color: black;\\n    }\\n\\n    .game-board {\\n        flex: 1;\\n        align-self: flex-end;\\n        border: 1px solid rgba(255, 255, 255, 0.1);\\n        margin: 15px 0px 15px 15px;\\n    }\\n\\n    .game-row {\\n        display: flex;\\n        width: 100%;\\n    }\\n\\n    .game-space {\\n        flex: 1;\\n        border: 1px dashed rgba(255, 255, 255, 0.1);\\n    }\\n\\n    .game-piece {\\n        border-width: 1px;\\n        border-style: solid;\\n    }\\n\\n    .stats-panel {\\n        text-align: center;\\n    }\\n\\n    .stats-label {\\n        margin: 5px 15px;\\n        font-size: 0.75em;\\n        text-decoration: underline;\\n    }\\n\\n    .stats-value {\\n        margin: 5px 15px;\\n        font-size: 0.75em;\\n        margin-bottom: 5px;\\n    }\\n\\n    .next-piece-container {\\n        margin: 0px 5px;\\n        margin-top: 15px;\\n        border: 1px solid blue;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n\\n    .next-piece-cell {\\n        display: inline-block;\\n        border: 1px solid black;\\n    }\\n\\n    .paused {\\n        opacity: 0.5;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === 'function') {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./styles.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * Configuration\n *\n * This file contains configuration options\n * which can be changed to customize the game.\n */\nimport { Color } from \"./lib/GamePiece\";\n\n/**\n * Game Piece Colors\n *\n * These are the available colors which are given to\n * GamePieces randomly as they are generated.\n */\nexport const COLORS: Array<Color> = [\n    { color: \"red\", border: \"darkred\" },\n    { color: \"orange\", border: \"black\" },\n    { color: \"yellow\", border: \"black\" },\n    { color: \"lime\", border: \"darkgreen\" },\n    { color: \"cyan\", border: \"darkblue\" },\n    { color: \"blue\", border: \"darkblue\" },\n    { color: \"magenta\", border: \"indigo\" },\n    { color: \"indigo\", border: \"black\" },\n];\n\n/**\n * Game Board Dimmensions\n *\n * These options configure how many game spaces\n * are on the game board.\n */\nexport const GAME_COLS = 10;\nexport const GAME_ROWS = 20;\n\n/**\n * Frame Rate\n *\n * This option controls the 'frame rate,' or the\n * duration of each game cycle. This is specifically\n * the amout of time for each frame.\n * per second.\n */\nexport const FRAME_CONST = 60.0988;\n\n/**\n * Lines Per Level\n *\n * This option controls how many lines must\n * be completed to reach the next level.\n */\nexport const LINES_PER_LEVEL = 10;\n\n/**\n * Options\n *\n * This interface describes the exposed options which can\n * be set by the developer consuming the library. The Tetris\n * constructor takes an Options object as a parameter.\n */\nexport interface Options {\n    frameConstant?: number;\n    linesPerLevel?: number;\n}\n","/**\n * Tetris\n *\n * This is the main Tetris class. It connects the main\n * components, GameEngine, UIEngine, and the EventBus.\n */\nimport { EventBus } from \"./lib/EventBus\";\nimport GameEngine from \"./lib/GameEngine\";\nimport UIEngine from \"./lib/UIEngine\";\nimport { Options } from \"./config\";\n\nclass Tetris {\n    eventBus: EventBus;\n    gameEngine: GameEngine;\n    uiEngine: UIEngine;\n\n    constructor(\n        rootElement: Element,\n        statsCallback: Function,\n        options?: Options\n    ) {\n        if (!rootElement) {\n            throw new Error(\"[tetris-ts] No DOM Element provided.\");\n        }\n\n        // Get singleton instance of EventBus\n        this.eventBus = EventBus.getInstance();\n\n        this.gameEngine = new GameEngine(statsCallback, options);\n        this.uiEngine = new UIEngine(rootElement);\n\n        // Start GameEngine and UIEngine initialization\n        this.eventBus.publish({ event: \"INIT\" });\n    }\n}\n\nexport default Tetris;\n","/**\n * EventBus\n *\n * The EventBus facilitates communcation between\n * the GameEngine and the UIEngine. It is a singleton\n * which exposes a method to return the instance of the class.\n */\nimport GamePiece from \"../GamePiece/GamePiece\";\n\n/**\n * Event interfaces\n *\n * These interfaces describe the different types of events\n * which can be published and subscribed to.\n */\n\n/**\n * GameEvent - A basic text only event.\n */\nexport interface GameEvent {\n    event: string;\n}\n\n/**\n * GamePieceEvent - Usually updating the position of a game piece.\n */\nexport interface GamePieceEvent extends GameEvent {\n    gamePiece: GamePiece;\n}\n\n/**\n * RowEvent - Used for indicating rows which need to be cleared\n */\nexport interface RowEvent extends GameEvent {\n    rows: Array<number>;\n}\n\n/**\n * StatsEvent - Used for updating points, lines, and level in the stats panel.\n */\nexport interface StatsEvent extends GameEvent {\n    value: number;\n}\n\n/**\n * Handler\n *\n * This describes an eventhandler. It contains the\n * name of the event, and the reference to the function\n * to invoke when hanling said event.\n */\nexport interface Handler {\n    event: string;\n    handler: Function;\n}\n\nexport class EventBus {\n    private static instance: EventBus; // Reference to the singleton\n    private handlers: Array<Handler>; // Array of registered event handlers\n\n    /**\n     * Get the singleton instance of the EventBus\n     */\n    static getInstance(): EventBus {\n        if (!EventBus.instance) {\n            EventBus.instance = new EventBus();\n            EventBus.instance.handlers = [];\n        }\n\n        return EventBus.instance;\n    }\n\n    /**\n     * Subscribe event handler to event name\n     * @param event name of event to subscribe to\n     * @param handler reference to function to invoke on event\n     */\n    subscribe(event: string, handler: Function): void {\n        this.handlers.push({\n            event: event,\n            handler: handler,\n        });\n    }\n\n    /**\n     * Publishers\n     *\n     * To maintain type safe, each event type has its own publisher\n     * function. This helps avoid function overloading which will not\n     * translate to Javascript when compiled.\n     */\n\n    /**\n     * Publish GameEvent\n     * @param event name of event\n     */\n    publish(event: GameEvent): void {\n        this.handlers.forEach(h => {\n            if (h.event === event.event) {\n                h.handler(event);\n            }\n        });\n    }\n\n    /**\n     * Publish GamePieceEvent\n     * @param event name of event\n     */\n    publishGamePieceEvent(event: GamePieceEvent): void {\n        this.handlers.forEach(h => {\n            if (h.event === event.event) {\n                h.handler(event);\n            }\n        });\n    }\n\n    /**\n     * Publish RowEvent\n     * @param event name of event\n     */\n    publishRowEvent(event: RowEvent): void {\n        this.handlers.forEach(h => {\n            if (h.event === event.event) {\n                h.handler(event);\n            }\n        });\n    }\n\n    /**\n     * Publish StatsEvent\n     * @param event name of event\n     */\n    publishStatsEvent(event: StatsEvent): void {\n        this.handlers.forEach(h => {\n            if (h.event === event.event) {\n                h.handler(event);\n            }\n        });\n    }\n}\n","/**\n * GameEngine\n *\n * This class contains the logic for the game. It maintains\n * the game state (including the map of pieces), validates movements,\n * and dispatches events to the UIEngine.\n */\nimport {\n    FRAME_CONST,\n    GAME_COLS,\n    GAME_ROWS,\n    LINES_PER_LEVEL,\n    Options,\n} from \"../../config\";\nimport { GameState } from \"../GameState\";\n\n// Types and Wrapper Methods from GamePiece\nimport { Coordinate, newGamePiece } from \"../GamePiece\";\n\n// GamePiece Class\nimport GamePiece from \"../GamePiece/GamePiece\";\n\nimport { EventBus } from \"../EventBus\";\n\nexport default class GameEngine {\n    private statsCallback: Function;\n    private stateMap: boolean[][];\n    private eventBus: EventBus;\n    private activePiece: GamePiece;\n    private nextPiece: GamePiece;\n    private gameState: GameState;\n    private points: number;\n    private lineCount: number;\n    private level: number;\n    private frameConst: number;\n    private linesPerLevel: number;\n\n    constructor(statsCallback: Function, options: Options) {\n        this.parseOptions(options);\n\n        this.statsCallback = statsCallback;\n\n        this.eventBus = EventBus.getInstance();\n        this.subscribeToEvents();\n\n        this.resetGame();\n    }\n\n    /**\n     * Parse and set user options\n     * @param options User supplied options\n     */\n    parseOptions(options: Options): void {\n        if (!options) {\n            this.frameConst = FRAME_CONST;\n            this.linesPerLevel = LINES_PER_LEVEL;\n\n            return;\n        }\n\n        this.frameConst =\n            options.frameConstant > 0 ? options.frameConstant : FRAME_CONST;\n        this.linesPerLevel =\n            options.linesPerLevel > 0 ? options.linesPerLevel : LINES_PER_LEVEL;\n    }\n\n    /**\n     * Subscribe to EventBus events and setup handlers\n     */\n    subscribeToEvents(): void {\n        this.eventBus.subscribe(\"PLAY\", () => {\n            this.startGame();\n        });\n\n        this.eventBus.subscribe(\"INPUT_LEFT\", () => {\n            this.moveLeft();\n        });\n\n        this.eventBus.subscribe(\"INPUT_RIGHT\", () => {\n            this.moveRight();\n        });\n\n        this.eventBus.subscribe(\"INPUT_DOWN\", () => {\n            this.moveDown();\n        });\n\n        this.eventBus.subscribe(\"INPUT_UP\", () => {\n            this.transform();\n        });\n\n        this.eventBus.subscribe(\"INPUT_SPACE\", () => {\n            this.togglePauseGame();\n        });\n\n        this.eventBus.subscribe(\"INPUT_ESC\", () => {\n            if (\n                this.gameState === GameState.PLAYING ||\n                this.gameState === GameState.PAUSED\n            ) {\n                this.gameState = GameState.STOPPED;\n            }\n        });\n    }\n\n    /**\n     * Initialize the stateMap to bounds\n     */\n    initStateMap(): void {\n        this.stateMap = [];\n\n        for (let i = 0; i < GAME_ROWS; i++) {\n            this.stateMap[i] = [];\n            for (let j = 0; j < GAME_COLS; j++) {\n                this.stateMap[i][j] = false;\n            }\n        }\n    }\n\n    /**\n     * Ready the GameEngine for play\n     */\n    resetGame(): void {\n        this.initStateMap();\n\n        this.points = 0;\n        this.lineCount = 0;\n        this.level = 0;\n\n        this.gameState = GameState.INIT;\n    }\n\n    startGame(): void {\n        console.log(\"[tetris-ts] Starting Game\");\n        this.gameState = GameState.PLAYING;\n\n        this.activePiece = null;\n        this.nextPiece = null;\n\n        this.points = 0;\n        this.eventBus.publishStatsEvent({\n            event: \"UPDATE_POINTS\",\n            value: this.points,\n        });\n\n        this.lineCount = 0;\n        this.eventBus.publishStatsEvent({\n            event: \"UPDATE_LINES\",\n            value: this.lineCount,\n        });\n\n        this.level = 0;\n        this.eventBus.publishStatsEvent({\n            event: \"UPDATE_LEVEL\",\n            value: this.level,\n        });\n\n        this.run();\n    }\n\n    togglePauseGame(): void {\n        if (this.gameState === GameState.PLAYING) {\n            this.gameState = GameState.PAUSED;\n        } else if (this.gameState === GameState.PAUSED) {\n            this.gameState = GameState.PLAYING;\n            this.run();\n        }\n    }\n\n    endGame(): void {\n        this.gameState = GameState.STOPPED;\n\n        this.activePiece = null;\n        this.nextPiece = null;\n\n        // Pass score data out of the library\n        this.statsCallback({\n            points: this.points,\n            lines: this.lineCount,\n            level: this.level,\n        });\n\n        this.resetGame();\n    }\n\n    /**\n     * Main game loop. This method controls the automatic falling\n     * of pieces, when to generate new game pieces, and when to\n     * clear completed rows.\n     */\n    run(): void {\n        if (this.gameState == GameState.PLAYING) {\n            if (\n                this.activePiece &&\n                this.validateTransform(this.activePiece.getDownTransform())\n            ) {\n                // If activePiece can move down...\n                this.moveDown();\n\n                // Wait for next cycle to run again\n                setTimeout(() => {\n                    this.run();\n                }, this.getTimeout());\n            } else if (this.activePiece) {\n                // If activePiece cannot move down, set locking state\n                this.activePiece.locking = true;\n\n                // Wait one cycle for 'slide' moves\n                setTimeout(() => {\n                    // Check if 'slide' move removed the piece from lock\n                    if (this.activePiece.locking) {\n                        this.activePiece = null;\n                        this.checkCompleteRows();\n                        this.generateGamePiece();\n                    }\n\n                    // Wait for next cycle to run again\n                    setTimeout(() => {\n                        this.run();\n                    }, this.getTimeout());\n                }, this.getTimeout());\n            } else {\n                // If no activePiece, make a new one\n                this.generateGamePiece();\n\n                // Wait for next cycle to run again\n                setTimeout(() => {\n                    this.run();\n                }, this.getTimeout());\n            }\n        } else if (this.gameState !== GameState.PAUSED) {\n            // If not playing or paused, end the game\n\n            this.endGame();\n        }\n    }\n\n    /**\n     * Generate game pieces\n     */\n    generateGamePiece(): void {\n        if (!this.nextPiece) {\n            this.nextPiece = newGamePiece();\n        }\n\n        if (!this.validateGamePiece(this.nextPiece.position)) {\n            this.gameState = GameState.STOPPED;\n        }\n\n        this.activePiece = this.nextPiece;\n        this.addToStateMap(this.activePiece);\n        this.eventBus.publishGamePieceEvent({\n            event: \"DRAW_ACTIVE\",\n            gamePiece: this.activePiece,\n        });\n\n        this.nextPiece = newGamePiece();\n        this.eventBus.publishGamePieceEvent({\n            event: \"DRAW_NEXT\",\n            gamePiece: this.nextPiece,\n        });\n    }\n\n    /**\n     * Check if coordinates are already occupied\n     * @param gamePiece\n     */\n    validateGamePiece(position: Array<Coordinate>): boolean {\n        let isValid = true;\n        position.forEach(p => {\n            if (this.stateMap[p.y][p.x]) {\n                isValid = false;\n            }\n        });\n\n        return isValid;\n    }\n\n    /**\n     * Check for rows that are complete\n     */\n    checkCompleteRows(): void {\n        const completeRows: Array<number> = [];\n\n        for (let i = 0; i < GAME_ROWS; i++) {\n            let sum = 0;\n            for (let j = 0; j < GAME_COLS; j++) {\n                if (this.stateMap[i][j]) {\n                    sum++;\n                }\n            }\n\n            if (sum === GAME_COLS) {\n                completeRows.push(i);\n            }\n        }\n\n        if (completeRows.length) {\n            completeRows.forEach(i => {\n                this.stateMap.splice(i, 1);\n                const row: Array<boolean> = [];\n                for (let i = 0; i < GAME_COLS; i++) {\n                    row.push(false);\n                }\n                this.stateMap.unshift(row);\n            });\n\n            this.calculateRowPoints(completeRows.length);\n\n            this.eventBus.publishRowEvent({\n                event: \"REMOVE_ROWS\",\n                rows: completeRows,\n            });\n        }\n    }\n\n    /**\n     * Add a GamePiece to the stateMap\n     * @param gamePiece GamePiece\n     */\n    addToStateMap(gamePiece: GamePiece): void {\n        gamePiece.position.forEach(p => {\n            this.stateMap[p.y][p.x] = true;\n        });\n    }\n\n    /**\n     * Remove a GamePiece from the stateMap\n     * @param gamePiece GamePiece\n     */\n    removeFromStateMap(gamePiece: GamePiece): void {\n        gamePiece.position.forEach(p => {\n            this.stateMap[p.y][p.x] = false;\n        });\n    }\n\n    /**\n     * Move activePiece to the left\n     */\n    moveLeft(): void {\n        if (this.gameState != GameState.PLAYING) {\n            return;\n        }\n\n        const transform: Array<Coordinate> = this.activePiece.getLeftTransform();\n        if (this.validateTransform(transform)) {\n            this.removeFromStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"ERASE_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            this.activePiece.position = transform;\n\n            this.addToStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"DRAW_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            if (this.activePiece.locking) {\n                this.lockCheck();\n            }\n        }\n    }\n\n    /**\n     * Move activePiece to the right\n     */\n    moveRight(): void {\n        if (this.gameState != GameState.PLAYING) {\n            return;\n        }\n\n        const transform: Array<Coordinate> = this.activePiece.getRightTransform();\n        if (this.validateTransform(transform)) {\n            this.removeFromStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"ERASE_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            this.activePiece.position = transform;\n\n            this.addToStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"DRAW_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            if (this.activePiece.locking) {\n                this.lockCheck();\n            }\n        }\n    }\n\n    /**\n     * Move activePice down\n     */\n    moveDown(): void {\n        if (this.gameState != GameState.PLAYING) {\n            return;\n        }\n\n        const transform: Array<Coordinate> = this.activePiece.getDownTransform();\n        if (this.validateTransform(transform)) {\n            this.removeFromStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"ERASE_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            this.activePiece.position = transform;\n\n            this.addToStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"DRAW_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            if (this.activePiece.locking) {\n                this.lockCheck();\n            }\n        }\n    }\n\n    /**\n     * Check if a transform removes lock for piece\n     */\n    lockCheck(): void {\n        if (this.validateTransform(this.activePiece.getDownTransform())) {\n            this.activePiece.locking = false;\n        }\n    }\n\n    /**\n     * Transform (rotate) a gamePiece\n     */\n    transform(): void {\n        if (this.gameState != GameState.PLAYING) {\n            return;\n        }\n\n        const transform: Array<Coordinate> = this.activePiece.getTransform();\n\n        if (this.validateTransform(transform)) {\n            this.removeFromStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"ERASE_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n\n            this.activePiece.position = transform;\n\n            this.addToStateMap(this.activePiece);\n            this.eventBus.publishGamePieceEvent({\n                event: \"DRAW_ACTIVE\",\n                gamePiece: this.activePiece,\n            });\n        }\n    }\n\n    /**\n     * Check if all coordinates in a transform are valid\n     * @param transform New position\n     */\n    validateTransform(transform: Array<Coordinate>): boolean {\n        let isValid = true;\n\n        transform.forEach(p => {\n            if (!this.validateCoordinateTransform(p)) {\n                isValid = false;\n            }\n        });\n        return isValid;\n    }\n\n    /**\n     * Check if coordinate is valid according to bounds and game rules\n     * @param c Coordinate\n     */\n    validateCoordinateTransform(c: Coordinate): boolean {\n        try {\n            // Check if coordinate is occupied by part of activePiece\n            if (this.isActivePiece(c)) {\n                throw true;\n            }\n\n            // Check if coordinate is out of bounds\n            if (c.x < 0 || c.x >= GAME_COLS || c.y < 0 || c.y >= GAME_ROWS) {\n                throw false;\n            }\n\n            // Check stateMap for coordinate\n            if (this.stateMap[c.y][c.x]) {\n                throw false;\n            }\n\n            return true;\n        } catch (result) {\n            return result;\n        }\n    }\n\n    /**\n     * Check if a coordinate is part of the activePiece\n     * @param c Coordinate\n     */\n    isActivePiece(c: Coordinate): boolean {\n        try {\n            this.activePiece.position.forEach(p => {\n                if (c.x == p.x && c.y == p.y) {\n                    throw true;\n                }\n            });\n\n            return false;\n        } catch (result) {\n            return result;\n        }\n    }\n\n    /**\n     * Calculate the duration of a game cycle, or\n     * the time between automatic down moves. The algorithim\n     * starts out a 48 frames per cycle and steps down as the level\n     * increases.\n     */\n    getTimeout(): number {\n        if (this.level < 9) {\n            return ((48 - 5 * this.level) / this.frameConst) * 1000;\n        } else if (this.level === 9) {\n            return (6 / this.frameConst) * 1000;\n        } else if (this.level >= 10 && this.level < 13) {\n            return (5 / this.frameConst) * 1000;\n        } else if (this.level >= 13 && this.level < 16) {\n            return (4 / this.frameConst) * 1000;\n        } else if (this.level >= 16 && this.level < 19) {\n            return (3 / this.frameConst) * 1000;\n        } else if (this.level >= 19 && this.level < 29) {\n            return (2 / this.frameConst) * 1000;\n        } else {\n            return (1 / this.frameConst) * 1000;\n        }\n    }\n\n    calculateRowPoints(rowCount: number): void {\n        let rowPoints: number;\n        switch (rowCount) {\n            case 1:\n                rowPoints = 40;\n                break;\n            case 2:\n                rowPoints = 100;\n                break;\n            case 3:\n                rowPoints = 300;\n                break;\n            case 4:\n                rowPoints = 1200;\n                break;\n        }\n\n        this.points += rowPoints * (this.level + 1);\n        this.eventBus.publishStatsEvent({\n            event: \"UPDATE_POINTS\",\n            value: this.points,\n        });\n\n        this.lineCount = this.lineCount + rowCount;\n        this.eventBus.publishStatsEvent({\n            event: \"UPDATE_LINES\",\n            value: this.lineCount,\n        });\n\n        if (this.lineCount >= (this.level + 1) * this.linesPerLevel) {\n            this.level++;\n            this.eventBus.publishStatsEvent({\n                event: \"UPDATE_LEVEL\",\n                value: this.level,\n            });\n        }\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { GamePieceType } from \".\";\n\nexport default class BlockType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1\n     * 2 3\n     */\n    constructor() {\n        super(GamePieceType.BLOCK);\n\n        this.position = [\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset, y: 1 },\n            { x: this.xOffset + 1, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 0, y: 1 },\n            { x: 1, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 2 };\n    }\n}\n","/**\n * GamePiece\n *\n * This is the base class for all other game pieces. All the\n * game pieces are exntended by this class.\n */\nimport { COLORS, GAME_COLS, GAME_ROWS } from \"../../config\";\nimport { Color, Coordinate, GamePieceType } from \".\";\n\nexport default class GamePiece {\n    type: GamePieceType;\n    position: Array<Coordinate>;\n    xOffset: number; // Offset to center the piece on the board when generated\n    cols: number; // Alias for GAME_COLS\n    rows: number; // Alias for GAME_ROWS\n    color: Color;\n    locking: boolean; // Flag for when a piece can be slid in its final position\n    nextPieceMap: Array<Coordinate>; // Coordinates for the next piece hint\n    nextPieceDims: { rows: number; cols: number }; // Dims for the next piece hint\n\n    constructor(type: GamePieceType) {\n        this.type = type;\n        this.cols = GAME_COLS;\n        this.rows = GAME_ROWS;\n\n        // Place piece in the middle of the Game Board\n        this.xOffset =\n            ((GAME_COLS / 2) % 2\n                ? GAME_COLS / 2\n                : GAME_COLS / 2 - (GAME_COLS % 2)) - 1;\n\n        this.color =\n            COLORS[Math.floor(Math.random() * Math.floor(COLORS.length))];\n    }\n\n    /**\n     * Get coordinates for a move to the left\n     */\n    getLeftTransform(): Array<Coordinate> {\n        const transform: Array<Coordinate> = [];\n\n        this.position.forEach(p => {\n            transform.push({ x: p.x - 1, y: p.y });\n        });\n\n        return transform;\n    }\n\n    /**\n     * Get coordinates for a move to the right\n     */\n    getRightTransform(): Array<Coordinate> {\n        const transform: Array<Coordinate> = [];\n\n        this.position.forEach(p => {\n            transform.push({ x: p.x + 1, y: p.y });\n        });\n\n        return transform;\n    }\n\n    /**\n     * Get coordinates for a move down\n     */\n    getDownTransform(): Array<Coordinate> {\n        const transform: Array<Coordinate> = [];\n\n        this.position.forEach(p => {\n            transform.push({ x: p.x, y: p.y + 1 });\n        });\n\n        return transform;\n    }\n\n    /**\n     * Return generatl transform\n     * This method is overriden in each GamePiece sub class\n     */\n    getTransform(): Array<Coordinate> {\n        // Return default transform\n        return this.position;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class LInvType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1 2\n     *     3\n     */\n    constructor() {\n        super(GamePieceType.L_INV);\n\n        this.position = [\n            { x: this.xOffset - 1, y: 0 },\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset + 1, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 2, y: 0 },\n            { x: 2, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 3 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        if (this.position[2].y === this.position[3].y) {\n            if (this.position[2].x > this.position[3].x) {\n                return this._180Transform();\n            } else {\n                return this._0Transform();\n            }\n        } else {\n            if (this.position[2].y < this.position[3].y) {\n                return this._90Transform();\n            } else {\n                return this._270Transform();\n            }\n        }\n    }\n\n    /**\n     * Rotate piece to 0\n     * @param xOffset\n     * @param yOffset\n     */\n    private _0Transform(xOffset?: number, yOffset?: number): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y - 2 + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x + 1 + xOffset,\n                y: this.position[3].y + 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._0Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._0Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._0Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._0Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 90\n     * @param xOffset\n     * @param yOffset\n     */\n    private _90Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y + 2 + yOffset,\n            },\n            {\n                x: this.position[3].x - 1 + xOffset,\n                y: this.position[3].y + 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._90Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._90Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._90Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._90Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 180\n     * @param xOffset\n     * @param yOffset\n     */\n    private _180Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y + 2 + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x - 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x - 1 + xOffset,\n                y: this.position[3].y - 1 + yOffset,\n            },\n        ];\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._180Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._180Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._180Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._180Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 270\n     * @param xOffset\n     * @param yOffset\n     */\n    private _270Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x - 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y - 2 + yOffset,\n            },\n            {\n                x: this.position[3].x + 1 + xOffset,\n                y: this.position[3].y - 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._270Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._270Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._270Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._270Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class LType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1 2\n     * 3\n     */\n    constructor() {\n        super(GamePieceType.L);\n\n        this.position = [\n            { x: this.xOffset - 1, y: 0 },\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset - 1, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 2, y: 0 },\n            { x: 0, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 3 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        if (this.position[0].y === this.position[3].y) {\n            if (this.position[0].x > this.position[3].x) {\n                return this._180Transform();\n            } else {\n                return this._0Transform();\n            }\n        } else {\n            if (this.position[0].y < this.position[3].y) {\n                return this._90Transform();\n            } else {\n                return this._270Transform();\n            }\n        }\n    }\n\n    /**\n     * Rotate piece to 0\n     * @param xOffset\n     * @param yOffset\n     */\n    private _0Transform(xOffset?: number, yOffset?: number): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y - 2 + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x - 1 + xOffset,\n                y: this.position[3].y - 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._0Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._0Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._0Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._0Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 90\n     * @param xOffset\n     * @param yOffset\n     */\n    private _90Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y + 2 + yOffset,\n            },\n            {\n                x: this.position[3].x + 1 + xOffset,\n                y: this.position[3].y - 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._90Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._90Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._90Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._90Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 180\n     * @param xOffset\n     * @param yOffset\n     */\n    private _180Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y + 2 + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x - 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x + 1 + xOffset,\n                y: this.position[3].y + 1 + yOffset,\n            },\n        ];\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._180Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._180Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._180Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._180Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Rotate piece to 0\n     * @param xOffset\n     * @param yOffset\n     */\n    private _270Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x - 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y - 2 + yOffset,\n            },\n            {\n                x: this.position[3].x - 1 + xOffset,\n                y: this.position[3].y + 1 + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._270Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._270Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._270Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._270Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class LineType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1 2 3\n     */\n    constructor() {\n        super(GamePieceType.LINE);\n\n        this.position = [\n            { x: this.xOffset - 1, y: 0 },\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset + 2, y: 0 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 2, y: 0 },\n            { x: 3, y: 0 },\n        ];\n\n        this.nextPieceDims = { rows: 1, cols: 4 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        return this.position[0].y === this.position[1].y\n            ? this._verticalTransform()\n            : this._horizontalTransform();\n    }\n\n    /**\n     * Make piece horizontal\n     * @param xOffset\n     * @param yOffset\n     */\n    private _horizontalTransform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x - 1 + xOffset,\n                y: this.position[0].y + 3 + yOffset,\n            },\n            {\n                x: this.position[1].x + xOffset,\n                y: this.position[1].y + 2 + yOffset,\n            },\n            {\n                x: this.position[2].x + 1 + xOffset,\n                y: this.position[2].y + 1 + yOffset,\n            },\n            {\n                x: this.position[3].x + 2 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._horizontalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._horizontalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._horizontalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._horizontalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Make piece vertical\n     * @param xOffset\n     * @param yOffset\n     */\n    private _verticalTransform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + 1 + xOffset,\n                y: this.position[0].y - 3 + yOffset,\n            },\n            {\n                x: this.position[1].x + xOffset,\n                y: this.position[1].y - 2 + yOffset,\n            },\n            {\n                x: this.position[2].x - 1 + xOffset,\n                y: this.position[2].y - 1 + yOffset,\n            },\n            {\n                x: this.position[3].x - 2 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._verticalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._verticalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._verticalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._verticalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class TType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1 2\n     *   3\n     */\n    constructor() {\n        super(GamePieceType.T);\n\n        this.position = [\n            { x: this.xOffset - 1, y: 0 },\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 2, y: 0 },\n            { x: 1, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 3 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        if (this.position[3].y === this.position[1].y) {\n            if (this.position[3].x < this.position[1].x) {\n                return this._180Transform();\n            } else {\n                return this._0Transform();\n            }\n        } else {\n            if (this.position[3].y > this.position[1].y) {\n                return this._90Transform();\n            } else {\n                return this._270Transform();\n            }\n        }\n    }\n\n    /**\n     * Transform to 0\n     * @param xOffset\n     * @param yOffset\n     */\n    private _0Transform(xOffset?: number, yOffset?: number): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y - 2 + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._0Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._0Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._0Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._0Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Transform to 90\n     * @param xOffset\n     * @param yOffset\n     */\n    private _90Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y + 2 + yOffset,\n            },\n            {\n                x: this.position[3].x + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._90Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._90Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._90Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._90Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Transform to 180\n     * @param xOffset\n     * @param yOffset\n     */\n    private _180Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y + 2 + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x - 2 + xOffset,\n                y: this.position[2].y + yOffset,\n            },\n            {\n                x: this.position[3].x + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._180Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._180Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._180Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._180Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Transform to 270\n     * @param xOffset\n     * @param yOffset\n     */\n    private _270Transform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x - 2 + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + xOffset,\n                y: this.position[2].y - 2 + yOffset,\n            },\n            {\n                x: this.position[3].x + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._270Transform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._270Transform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._270Transform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._270Transform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class ZInvType extends GamePiece {\n    /**\n     * Piece Map\n     *   0 1\n     * 2 3\n     */\n    constructor() {\n        super(GamePieceType.Z_INV);\n\n        this.position = [\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset + 1, y: 0 },\n            { x: this.xOffset - 1, y: 1 },\n            { x: this.xOffset, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 1, y: 0 },\n            { x: 2, y: 0 },\n            { x: 0, y: 1 },\n            { x: 1, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 3 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        return this.position[0].y === this.position[1].y\n            ? this._verticalTransform()\n            : this._horizontalTransform();\n    }\n\n    /**\n     * Make piece horizontal\n     * @param xOffset\n     * @param yOffset\n     */\n    private _horizontalTransform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x + 1 + xOffset,\n                y: this.position[1].y + 1 + yOffset,\n            },\n            {\n                x: this.position[2].x - 2 + xOffset,\n                y: this.position[2].y + 1 + yOffset,\n            },\n            {\n                x: this.position[3].x - 1 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._horizontalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._horizontalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._horizontalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._horizontalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Make piece vertical\n     * @param xOffset\n     * @param yOffset\n     */\n    private _verticalTransform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + xOffset,\n                y: this.position[0].y + yOffset,\n            },\n            {\n                x: this.position[1].x - 1 + xOffset,\n                y: this.position[1].y - 1 + yOffset,\n            },\n            {\n                x: this.position[2].x + 2 + xOffset,\n                y: this.position[2].y - 1 + yOffset,\n            },\n            {\n                x: this.position[3].x + 1 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._verticalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._verticalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._verticalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._verticalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","import GamePiece from \"./GamePiece\";\nimport { Coordinate, GamePieceType } from \".\";\n\nexport default class ZType extends GamePiece {\n    /**\n     * Piece Map\n     * 0 1\n     *   2 3\n     */\n    constructor() {\n        super(GamePieceType.Z);\n\n        this.position = [\n            { x: this.xOffset - 1, y: 0 },\n            { x: this.xOffset, y: 0 },\n            { x: this.xOffset, y: 1 },\n            { x: this.xOffset + 1, y: 1 },\n        ];\n\n        this.nextPieceMap = [\n            { x: 0, y: 0 },\n            { x: 1, y: 0 },\n            { x: 1, y: 1 },\n            { x: 2, y: 1 },\n        ];\n\n        this.nextPieceDims = { rows: 2, cols: 3 };\n    }\n\n    /**\n     * Determine the orientation of the piece to\n     * peform the correct transformation\n     */\n    getTransform(): Array<Coordinate> {\n        return this.position[0].y === this.position[1].y\n            ? this._verticalTransform()\n            : this._horizontalTransform();\n    }\n\n    /**\n     * Make piece horizontal\n     * @param xOffset\n     * @param yOffset\n     */\n    private _horizontalTransform(\n        xOffset?: number,\n        yOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x - 1 + xOffset,\n                y: this.position[0].y + 1 + yOffset,\n            },\n            {\n                x: this.position[1].x + xOffset,\n                y: this.position[1].y + yOffset,\n            },\n            {\n                x: this.position[2].x + 1 + xOffset,\n                y: this.position[2].y + 1 + yOffset,\n            },\n            {\n                x: this.position[3].x + 2 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._horizontalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._horizontalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._horizontalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._horizontalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n\n    /**\n     * Make piece vertical\n     * @param yOffset\n     * @param xOffset\n     */\n    private _verticalTransform(\n        yOffset?: number,\n        xOffset?: number\n    ): Array<Coordinate> {\n        xOffset = xOffset ? xOffset : 0;\n        yOffset = yOffset ? yOffset : 0;\n\n        const transform: Array<Coordinate> = [\n            {\n                x: this.position[0].x + 1 + xOffset,\n                y: this.position[0].y - 1 + yOffset,\n            },\n            {\n                x: this.position[1].x + xOffset,\n                y: this.position[1].y + yOffset,\n            },\n            {\n                x: this.position[2].x - 1 + xOffset,\n                y: this.position[2].y - 1 + yOffset,\n            },\n            {\n                x: this.position[3].x - 2 + xOffset,\n                y: this.position[3].y + yOffset,\n            },\n        ];\n\n        for (let i = 0; i < transform.length; i++) {\n            if (transform[i].x < 0) {\n                return this._verticalTransform(++xOffset, yOffset);\n            } else if (transform[i].x >= this.cols) {\n                return this._verticalTransform(--xOffset, yOffset);\n            } else if (transform[i].y < 0) {\n                return this._verticalTransform(xOffset, ++yOffset);\n            } else if (transform[i].y >= this.rows) {\n                return this._verticalTransform(xOffset, --yOffset);\n            }\n        }\n\n        return transform;\n    }\n}\n","/**\n * GamePiece\n *\n * This file is wrapper / factory for GamePieces, mainly\n * to avoid circular depencies. It exposes some of the data\n * structures associated with game pieces and the factory\n * function which makes the call to randomly generate\n * new game pieces.\n */\nimport GamePiece from \"./GamePiece\";\nimport BlockType from \"./BlockType\";\nimport LineType from \"./LineType\";\nimport ZType from \"./ZType\";\nimport ZInvType from \"./ZInvType\";\nimport TType from \"./TType\";\nimport LType from \"./LType\";\nimport LInvType from \"./LInvType\";\n\n/**\n * GamePieceTypes\n *\n * These are the different kinds of pieces which can be\n * generated. The inverse pieces are necessary because\n * they are different when rotated.\n */\nexport enum GamePieceType {\n    BLOCK,\n    LINE,\n    Z,\n    Z_INV,\n    T,\n    L,\n    L_INV,\n}\n\nexport interface Color {\n    color: string;\n    border: string;\n}\n\n/**\n * Coordinate\n *\n * This interface describes a position on the game board.\n */\nexport interface Coordinate {\n    x: number;\n    y: number;\n}\n\n/**\n * Randomly generate a new game piece\n *\n * This function returns an instance of\n * a class exntended by GamePiece.\n */\nexport const newGamePiece = function(): GamePiece {\n    const gamePieceType: GamePieceType = Math.floor(\n        Math.random() * Math.floor(7)\n    );\n\n    switch (gamePieceType as GamePieceType) {\n        case GamePieceType.BLOCK:\n            return new BlockType();\n        case GamePieceType.LINE:\n            return new LineType();\n        case GamePieceType.Z:\n            return new ZType();\n        case GamePieceType.Z_INV:\n            return new ZInvType();\n        case GamePieceType.T:\n            return new TType();\n        case GamePieceType.L:\n            return new LType();\n        case GamePieceType.L_INV:\n            return new LInvType();\n        default:\n            throw Error(`[tetris-ts] Invalid GamePieceType '${gamePieceType}'`);\n    }\n};\n","/**\n * GameState\n *\n * This enum describes the states which the\n * game can be in. The same states are used\n * for the GameEngine and the UIEngine.\n */\nexport enum GameState {\n    INIT,\n    PLAYING,\n    PAUSED,\n    STOPPED,\n}\n","/**\n * Render\n *\n * This class exclusively handles DOM manipulation. It is responsible\n * for adding and removing the uiElements to and form the DOM.\n */\nimport { GAME_COLS, GAME_ROWS } from \"../../config\";\nimport GamePiece from \"../GamePiece/GamePiece\";\nimport { Coordinate, Color } from \"../GamePiece\";\n\nexport default class Render {\n    rootElement: Element;\n    uiElements: { [key: string]: Element };\n\n    constructor(rootElement: Element, uiElements: { [key: string]: Element }) {\n        this.rootElement = rootElement;\n        this.uiElements = uiElements;\n    }\n\n    createMainContainer(): void {\n        const container = document.createElement(\"div\");\n        container.classList.add(\"container\");\n\n        this.uiElements.container = container;\n\n        this.rootElement.appendChild(this.uiElements.container);\n    }\n\n    /**\n     * Create main menu\n     * @param playEvent event fired on play button onclick\n     */\n    createMenuPanel(playEvent: Function): void {\n        const mainPanel = document.createElement(\"div\");\n        mainPanel.classList.add(\"panel\");\n        mainPanel.classList.add(\"main-panel\");\n\n        const title = document.createElement(\"div\");\n        title.classList.add(\"text-center\");\n        title.innerHTML = \"<h3>TETRIS-TS</h3>\";\n        mainPanel.appendChild(title);\n\n        const controls = document.createElement(\"div\");\n        controls.classList.add(\"controls\");\n\n        const controlsTitle = document.createElement(\"div\");\n        controlsTitle.innerHTML = \"CONTROLS\";\n        controlsTitle.classList.add(\"label\");\n        controls.appendChild(controlsTitle);\n\n        this.uiElements.controls = controls;\n        this.createControlTable();\n        mainPanel.appendChild(controls);\n\n        const playButton = document.createElement(\"div\");\n        playButton.classList.add(\"text-center\");\n        playButton.innerHTML = \"<div class='button'>PLAY</div>\";\n        this.uiElements.playButton = playButton;\n\n        playButton.onclick = (): void => {\n            playEvent();\n        };\n\n        mainPanel.appendChild(playButton);\n\n        this.uiElements.mainPanel = mainPanel;\n        this.uiElements.container.appendChild(this.uiElements.mainPanel);\n    }\n\n    createControlTable(): void {\n        interface Control {\n            name: string;\n            desc: string;\n        }\n\n        const controls = [\n            { name: \"LEFT ARROW\", desc: \"MOVE LEFT\" },\n            { name: \"RIGHT ARROW\", desc: \"MOVE RIGHT\" },\n            { name: \"DOWN ARROW\", desc: \"MOVE DOWN\" },\n            { name: \"UP ARROW\", desc: \"ROTATE\" },\n            { name: \"SPACE\", desc: \"PAUSE\" },\n            { name: \"ESC\", desc: \"QUIT\" },\n        ];\n\n        const controlTable = document.createElement(\"table\");\n        controlTable.classList.add(\"control-table\");\n\n        controls.forEach((control: Control) => {\n            const controlRow = document.createElement(\"tr\");\n\n            const controlName = document.createElement(\"td\");\n            controlName.innerHTML = control.name;\n            controlRow.appendChild(controlName);\n\n            const controlDesc = document.createElement(\"td\");\n            controlDesc.innerHTML = control.desc;\n            controlRow.appendChild(controlDesc);\n\n            controlTable.appendChild(controlRow);\n        });\n\n        this.uiElements.controls.appendChild(controlTable);\n    }\n\n    createGamePanel(): void {\n        const gamePanel = document.createElement(\"div\");\n        gamePanel.classList.add(\"panel\");\n        gamePanel.classList.add(\"game-panel\");\n\n        this.uiElements.gamePanel = gamePanel;\n        this.uiElements.container.appendChild(this.uiElements.gamePanel);\n\n        this.createStatsPanel();\n\n        this.createGameBoard();\n    }\n\n    createStatsPanel(): void {\n        const statsPanel = document.createElement(\"div\");\n        statsPanel.classList.add(\"stats-panel\");\n\n        const pointsLabel = document.createElement(\"div\");\n        pointsLabel.classList.add(\"stats-label\");\n        pointsLabel.innerHTML = \"POINTS\";\n        statsPanel.appendChild(pointsLabel);\n\n        const pointsValue = document.createElement(\"div\");\n        pointsValue.classList.add(\"stats-value\");\n        this.uiElements.points = pointsValue;\n        statsPanel.appendChild(pointsValue);\n\n        const linesLabel = document.createElement(\"div\");\n        linesLabel.classList.add(\"stats-label\");\n        linesLabel.innerHTML = \"LINES\";\n        statsPanel.appendChild(linesLabel);\n\n        const linesValue = document.createElement(\"div\");\n        linesValue.classList.add(\"stats-value\");\n        this.uiElements.lines = linesValue;\n        statsPanel.appendChild(linesValue);\n\n        const levelLabel = document.createElement(\"div\");\n        levelLabel.classList.add(\"stats-label\");\n        levelLabel.innerHTML = \"LEVEL\";\n        statsPanel.appendChild(levelLabel);\n\n        const levelValue = document.createElement(\"div\");\n        levelValue.classList.add(\"stats-value\");\n        this.uiElements.level = levelValue;\n        statsPanel.appendChild(levelValue);\n\n        this.uiElements.statsPanel = statsPanel;\n        this.uiElements.container.appendChild(statsPanel);\n\n        this.createNextPieceContainer();\n    }\n\n    createNextPieceContainer(): void {\n        const square = this.uiElements.statsPanel.clientWidth - 30;\n\n        const nextPieceContainer = document.createElement(\"div\");\n        nextPieceContainer.classList.add(\"next-piece-container\");\n        nextPieceContainer.setAttribute(\n            \"style\",\n            `height: ${square}px; width: ${square}`\n        );\n\n        this.uiElements.nextPieceContainer = nextPieceContainer;\n        this.uiElements.statsPanel.appendChild(nextPieceContainer);\n    }\n\n    createGameBoard(): void {\n        const gameBoard = document.createElement(\"div\");\n        gameBoard.classList.add(\"game-board\");\n\n        this.uiElements.gameBoard = gameBoard;\n\n        this.uiElements.gamePanel.appendChild(this.uiElements.gameBoard);\n\n        this.createGameBoardSpaces();\n    }\n\n    createGameBoardSpaces(): void {\n        for (let r = 0; r < GAME_ROWS; r++) {\n            const row = document.createElement(\"div\");\n            row.classList.add(\"game-row\");\n            row.style.cssText = `height: ${this.uiElements.gameBoard\n                .clientWidth / GAME_COLS}px;`;\n\n            for (let c = 0; c < GAME_COLS; c++) {\n                const space = document.createElement(\"div\");\n                space.classList.add(\"game-space\");\n                row.appendChild(space);\n            }\n\n            this.uiElements.gameBoard.appendChild(row);\n        }\n    }\n\n    createNextPieceSpaces(rows: number, cols: number): void {\n        const square = this.uiElements.statsPanel.clientWidth - 30;\n\n        for (let r = 0; r < rows; r++) {\n            const row = document.createElement(\"div\");\n            row.setAttribute(\"style\", `line-height: ${square / 4}px`);\n            for (let c = 0; c < cols; c++) {\n                const cell = document.createElement(\"div\");\n                cell.classList.add(\"next-piece-cell\");\n                cell.setAttribute(\n                    \"style\",\n                    `height: ${square / 5}px; \n                    width: ${square / 5}px;`\n                );\n                row.appendChild(cell);\n            }\n            this.uiElements.nextPiece.appendChild(row);\n        }\n    }\n\n    /**\n     * Draw a game piece on the game board\n     * @param gamePiece\n     */\n    drawGamePiece(gamePiece: GamePiece): void {\n        gamePiece.position.forEach(piece => {\n            const el = this.uiElements.gameBoard.children[piece.y].children[\n                piece.x\n            ];\n            el.classList.add(\"game-piece\");\n            el.setAttribute(\n                \"style\",\n                `background-color: ${gamePiece.color.color};` +\n                    \" \" +\n                    `border-color: ${gamePiece.color.border};`\n            );\n        });\n    }\n\n    /**\n     * Remove a game piece from the game board\n     * @param gamePiece\n     */\n    eraseGamePiece(gamePiece: GamePiece): void {\n        gamePiece.position.forEach(piece => {\n            const el = this.uiElements.gameBoard.children[piece.y].children[\n                piece.x\n            ];\n            el.classList.remove(\"game-piece\");\n            el.setAttribute(\"style\", \"\");\n        });\n    }\n\n    drawRow(): void {\n        const row = document.createElement(\"div\");\n        row.classList.add(\"game-row\");\n        row.style.cssText = `height: ${this.uiElements.gameBoard.clientWidth /\n            GAME_COLS}px;`;\n\n        for (let c = 0; c < GAME_COLS; c++) {\n            const space = document.createElement(\"div\");\n            space.classList.add(\"game-space\");\n            row.appendChild(space);\n        }\n\n        this.uiElements.gameBoard.insertBefore(\n            row,\n            this.uiElements.gameBoard.children[0]\n        );\n    }\n\n    /**\n     * Remove rows from  game board\n     * @param rows row indexes to remove\n     */\n    removeRow(rows: Array<number>): void {\n        rows.forEach(row => {\n            this.uiElements.gameBoard.children[row].remove();\n            this.drawRow();\n        });\n    }\n\n    drawNextPiece(gamePiece: GamePiece): void {\n        if (this.uiElements.nextPiece) {\n            this.uiElements.nextPieceContainer.removeChild(\n                this.uiElements.nextPiece\n            );\n        }\n\n        const nextPiece = document.createElement(\"div\");\n        this.uiElements.nextPiece = nextPiece;\n\n        this.createNextPieceSpaces(\n            gamePiece.nextPieceDims.rows,\n            gamePiece.nextPieceDims.cols\n        );\n        this.setNextPieceActive(gamePiece.nextPieceMap, gamePiece.color);\n\n        this.uiElements.nextPieceContainer.appendChild(nextPiece);\n    }\n\n    setNextPieceActive(position: Array<Coordinate>, color: Color): void {\n        const nextPiece = this.uiElements.nextPiece;\n\n        position.forEach(c => {\n            const p = nextPiece.children[c.y].children[c.x];\n            p.setAttribute(\n                \"style\",\n                `${p.getAttribute(\"style\")} background-color: ${\n                    color.color\n                }; border-color: ${color.border};`\n            );\n        });\n    }\n\n    updatePoints(points: number): void {\n        this.uiElements.points.innerHTML = points.toString();\n    }\n\n    updateLines(lines: number): void {\n        this.uiElements.lines.innerHTML = lines.toString();\n    }\n\n    updateLevel(level: number): void {\n        this.uiElements.level.innerHTML = level.toString();\n    }\n}\n","/**\n * UIEngine\n *\n * This class contains the logic for the UI. It handles\n * user input and dispatches events to the EventBus for the\n * GameEngine. It also makes calls to the Rener class to\n * manipulate the DOM.\n *\n * The UIEngine stores references to the DOM objects in\n * uiElements. This is an object where each key is the friendly\n * name of the DOM object which is referenced in the value.\n */\nimport { GameState } from \"../GameState\";\nimport { EventBus, GamePieceEvent, RowEvent, StatsEvent } from \"../EventBus\";\nimport Render from \"./Render\";\nimport \"../styles.scss\";\n\nexport default class UIEngine {\n    eventBus: EventBus;\n    render: Render;\n    rootElement: Element;\n    uiElements: { [key: string]: Element };\n    gameState: GameState;\n\n    /**\n     * Constructor\n     * @param rootElement DOM element which all other elements will be built from\n     */\n    constructor(rootElement: Element) {\n        console.log(\n            `[tetris-ts] rootElement dimensions ${rootElement.clientWidth}x${rootElement.clientHeight}`\n        );\n\n        this.rootElement = rootElement;\n\n        this.uiElements = {};\n        this.render = new Render(this.rootElement, this.uiElements);\n\n        this.eventBus = EventBus.getInstance();\n        this.createInputListeners();\n        this.setupEventHandlers();\n\n        this.gameState = GameState.INIT;\n    }\n\n    /**\n     * Setup event listeners for key presses\n     *\n     * Using keydown lets us take advantage of the\n     * repeat key when a key is held down.\n     */\n    createInputListeners(): void {\n        document.addEventListener(\"keydown\", e => {\n            switch (e.code) {\n                case \"ArrowLeft\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_LEFT\" });\n                    break;\n                case \"ArrowRight\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_RIGHT\" });\n                    break;\n                case \"ArrowDown\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_DOWN\" });\n                    break;\n                case \"ArrowUp\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_UP\" });\n                    break;\n                case \"Space\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_SPACE\" });\n                    break;\n                case \"Escape\":\n                    e.preventDefault();\n                    this.eventBus.publish({ event: \"INPUT_ESC\" });\n                    break;\n            }\n        });\n    }\n\n    /**\n     * Setup Event Handlers for EventBus Events\n     */\n    setupEventHandlers(): void {\n        this.eventBus.subscribe(\"INIT\", () => {\n            this.createMainMenu();\n        });\n\n        this.eventBus.subscribe(\"PLAY_CLICK\", () => {\n            this.playClickHandler();\n        });\n\n        this.eventBus.subscribe(\"DRAW_ACTIVE\", (event: GamePieceEvent) => {\n            if (\n                this.gameState === GameState.PLAYING ||\n                this.gameState === GameState.PAUSED\n            ) {\n                this.render.drawGamePiece(event.gamePiece);\n            }\n        });\n\n        this.eventBus.subscribe(\"ERASE_ACTIVE\", (event: GamePieceEvent) => {\n            if (\n                this.gameState === GameState.PLAYING ||\n                this.gameState === GameState.PAUSED\n            ) {\n                this.render.eraseGamePiece(event.gamePiece);\n            }\n        });\n\n        this.eventBus.subscribe(\"REMOVE_ROWS\", (event: RowEvent) => {\n            if (\n                this.gameState === GameState.PLAYING ||\n                this.gameState === GameState.PAUSED\n            ) {\n                this.render.removeRow(event.rows);\n            }\n        });\n\n        this.eventBus.subscribe(\"UPDATE_POINTS\", (event: StatsEvent) => {\n            this.render.updatePoints(event.value);\n        });\n\n        this.eventBus.subscribe(\"UPDATE_LINES\", (event: StatsEvent) => {\n            this.render.updateLines(event.value);\n        });\n\n        this.eventBus.subscribe(\"UPDATE_LEVEL\", (event: StatsEvent) => {\n            this.render.updateLevel(event.value);\n        });\n\n        this.eventBus.subscribe(\"DRAW_NEXT\", (event: GamePieceEvent) => {\n            if (\n                this.gameState === GameState.PLAYING ||\n                this.gameState === GameState.PAUSED\n            ) {\n                this.render.drawNextPiece(event.gamePiece);\n            }\n        });\n\n        this.eventBus.subscribe(\n            \"INPUT_SPACE\",\n            this.inputSpaceHandler.bind(this)\n        );\n\n        this.eventBus.subscribe(\"INPUT_ESC\", (): void => {\n            this.resetUI();\n        });\n    }\n\n    playClickHandler(): void {\n        this.gameState = GameState.PLAYING;\n        this.createGameBoard();\n    }\n\n    inputSpaceHandler(): void {\n        switch (this.gameState) {\n            case GameState.PLAYING:\n                this.togglePause();\n                this.gameState = GameState.PAUSED;\n                break;\n            case GameState.PAUSED:\n                this.togglePause();\n                this.gameState = GameState.PLAYING;\n                break;\n        }\n    }\n\n    createMainMenu(): void {\n        this.render.createMainContainer();\n\n        this.render.createMenuPanel(() => {\n            this.eventBus.publish({ event: \"PLAY_CLICK\" });\n        });\n\n        this.eventBus.publish({ event: \"UI_READY\" });\n    }\n\n    createGameBoard(): void {\n        this.uiElements.container.removeChild(this.uiElements.mainPanel);\n\n        this.render.createGamePanel();\n\n        this.eventBus.publish({ event: \"PLAY\" });\n    }\n\n    resetUI(): void {\n        this.gameState = GameState.STOPPED;\n\n        this.rootElement.innerHTML = \"\";\n\n        Object.keys(this.uiElements).forEach(key => {\n            delete this.uiElements[key];\n        });\n\n        this.createMainMenu();\n    }\n\n    togglePause(): void {\n        if (this.gameState === GameState.PLAYING) {\n            this.uiElements.container.classList.add(\"paused\");\n        } else {\n            this.uiElements.container.classList.remove(\"paused\");\n        }\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/index.ts\");\n"],"sourceRoot":""}